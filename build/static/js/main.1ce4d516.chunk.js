(this["webpackJsonpethereum-boilerplate"]=this["webpackJsonpethereum-boilerplate"]||[]).push([[0],{1001:function(e,t){},1015:function(e,t){},1017:function(e,t){},1047:function(e,t){},1049:function(e,t){},1139:function(e,t){},1140:function(e,t){},1165:function(e,t){},1172:function(e,t){},1231:function(e,t){},1256:function(e,t){},1445:function(e,t,n){},1498:function(e,t,n){},1499:function(e,t,n){},1505:function(e,t,n){},1506:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(62),s=n.n(i),o=n(87),c=n(663),l=n(59),d=n(1),u=n(4),p=r.a.createContext(),b=n(8);function y(e){var t=e.children,n=Object(o.b)(),r=n.web3,i=n.Moralis,s=n.user,c=Object(a.useState)(),l=Object(u.a)(c,2),d=l[0],y=l[1],j=Object(a.useState)(),x=Object(u.a)(j,2),h=x[0],m=x[1],f=Object(a.useState)('[{"anonymous": false, "inputs": [{"indexed": true, "internalType": "bytes32", "name": "categoryId", "type": "bytes32"}, {"indexed": false, "internalType": "string", "name": "category", "type": "string"}], "name": "CategoryCreated", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "bytes32", "name": "contentId", "type": "bytes32"}, {"indexed": false, "internalType": "string", "name": "contentUri", "type": "string"}], "name": "ContentAdded", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "bytes32", "name": "postId", "type": "bytes32"}, {"indexed": true, "internalType": "address", "name": "postOwner", "type": "address"}, {"indexed": true, "internalType": "bytes32", "name": "parentId", "type": "bytes32"}, {"indexed": false, "internalType": "bytes32", "name": "contentId", "type": "bytes32"}, {"indexed": false, "internalType": "bytes32", "name": "categoryId", "type": "bytes32"}], "name": "PostCreated", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "bytes32", "name": "postId", "type": "bytes32"}, {"indexed": true, "internalType": "address", "name": "postOwner", "type": "address"}, {"indexed": true, "internalType": "address", "name": "voter", "type": "address"}, {"indexed": false, "internalType": "uint80", "name": "reputationPostOwner", "type": "uint80"}, {"indexed": false, "internalType": "uint80", "name": "reputationVoter", "type": "uint80"}, {"indexed": false, "internalType": "int40", "name": "postVotes", "type": "int40"}, {"indexed": false, "internalType": "bool", "name": "up", "type": "bool"}, {"indexed": false, "internalType": "uint8", "name": "reputationAmount", "type": "uint8"}], "name": "Voted", "type": "event"}, {"inputs": [{"internalType": "string", "name": "_category", "type": "string"}], "name": "addCategory", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "bytes32", "name": "_parentId", "type": "bytes32"}, {"internalType": "string", "name": "_contentUri", "type": "string"}, {"internalType": "bytes32", "name": "_categoryId", "type": "bytes32"}], "name": "createPost", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "bytes32", "name": "_categoryId", "type": "bytes32"}], "name": "getCategory", "outputs": [{"internalType": "string", "name": "", "type": "string"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "bytes32", "name": "_contentId", "type": "bytes32"}], "name": "getContent", "outputs": [{"internalType": "string", "name": "", "type": "string"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "bytes32", "name": "_postId", "type": "bytes32"}], "name": "getPost", "outputs": [{"internalType": "address", "name": "", "type": "address"}, {"internalType": "bytes32", "name": "", "type": "bytes32"}, {"internalType": "bytes32", "name": "", "type": "bytes32"}, {"internalType": "int72", "name": "", "type": "int72"}, {"internalType": "bytes32", "name": "", "type": "bytes32"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "address", "name": "_address", "type": "address"}, {"internalType": "bytes32", "name": "_categoryID", "type": "bytes32"}], "name": "getReputation", "outputs": [{"internalType": "uint80", "name": "", "type": "uint80"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "bytes32", "name": "_postId", "type": "bytes32"}, {"internalType": "uint8", "name": "_reputationTaken", "type": "uint8"}], "name": "voteDown", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "bytes32", "name": "_postId", "type": "bytes32"}, {"internalType": "uint8", "name": "_reputationAdded", "type": "uint8"}], "name": "voteUp", "outputs": [], "stateMutability": "nonpayable", "type": "function"}]'),v=Object(u.a)(f,2),O=v[0],g=v[1],w=Object(a.useState)(""),T=Object(u.a)(w,2),I=T[0],C=T[1],k=Object(a.useState)({categoryId:"0x91",category:"default"}),S=Object(u.a)(k,2),N=S[0],A=S[1];return Object(a.useEffect)((function(){i.onChainChanged((function(e){m(e)})),i.onAccountsChanged((function(e){y(e[0])}))}),[]),Object(a.useEffect)((function(){var e;return m(null===(e=r.givenProvider)||void 0===e?void 0:e.chainId)})),Object(a.useEffect)((function(){var e;return y((null===(e=r.givenProvider)||void 0===e?void 0:e.selectedAddress)||(null===s||void 0===s?void 0:s.get("ethAddress")))}),[r,s]),Object(b.jsx)(p.Provider,{value:{walletAddress:d,chainId:h,selectedCategory:N,setSelectedCategory:A,contractABI:O,setContractABI:g,contractAddress:I,setContractAddress:C},children:t})}function j(){var e=r.a.useContext(p);if(void 0===e)throw new Error("useMoralisDapp must be used within a MoralisDappProvider");return e}new Intl.NumberFormat("en-us",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:6}),new Intl.NumberFormat("en-us",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:4}),new Intl.NumberFormat("en-us",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return e?"".concat(e.substr(0,t),"...").concat(e.substr(e.length-t,e.length)):""},h=n(658),m=n.n(h);var f=function(e){var t=j().walletAddress;return(e.address||e.currentWallet)&&t?Object(b.jsx)(m.a,Object(d.a)({seed:e.currentWallet?t.toLowerCase():e.address.toLowerCase(),className:"identicon"},e)):null},v=n(1515),O=n(1514),g=n(264),w=(n(1445),{height:"36px",display:"flex",gap:"5px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"9px",alignItems:"center"});var T=function(e){var t=j().walletAddress,n=Object(a.useState)(),r=Object(u.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(!1),c=Object(u.a)(o,2),l=c[0],p=c[1];if(Object(a.useEffect)((function(){s((null===e||void 0===e?void 0:e.address)||t)}),[t,e]),!i)return null;var y=function(){return Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"#1780FF",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",style:{cursor:"pointer"},onClick:function(){navigator.clipboard.writeText(i),p(!0)},children:[Object(b.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(b.jsx)("path",{d:"M15 3v4a1 1 0 0 0 1 1h4"}),Object(b.jsx)("path",{d:"M18 17h-7a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h4l5 5v7a2 2 0 0 1 -2 2z"}),Object(b.jsx)("path",{d:"M16 17v2a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2"}),Object(b.jsx)("title",{id:"copy-address",children:"Copy Address"})]})};return Object(b.jsxs)("div",{style:Object(d.a)(Object(d.a)({},w),e.style),children:["left"===e.avatar&&Object(b.jsx)(f,{address:i,size:7}),Object(b.jsx)("p",{children:e.size?x(i,e.size):i}),"right"===e.avatar&&Object(b.jsx)(f,{address:i,size:7}),e.copyable&&(l?Object(b.jsx)(I,{}):Object(b.jsx)(y,{}))]})},I=function(){return Object(b.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"3",stroke:"#21BF96",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(b.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(b.jsx)("path",{d:"M5 12l5 5l10 -10"}),Object(b.jsx)("title",{id:"copied-address",children:"Copied!"})]})},C=n(1517),k={"0x1":{currencySymbol:"ETH",blockExplorerUrl:"https://etherscan.io/",wrapped:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"},"0x3":{currencySymbol:"ETH",blockExplorerUrl:"https://ropsten.etherscan.io/"},"0x4":{currencySymbol:"ETH",blockExplorerUrl:"https://kovan.etherscan.io/"},"0x2a":{currencySymbol:"ETH",blockExplorerUrl:"https://rinkeby.etherscan.io/"},"0x5":{currencySymbol:"ETH",blockExplorerUrl:"https://goerli.etherscan.io/"},"0x539":{chainName:"Local Chain",currencyName:"ETH",currencySymbol:"ETH",rpcUrl:"http://127.0.0.1:7545"},"0xa86a":{chainId:43114,chainName:"Avalanche Mainnet",currencyName:"AVAX",currencySymbol:"AVAX",rpcUrl:"https://api.avax.network/ext/bc/C/rpc",blockExplorerUrl:"https://cchain.explorer.avax.network/"},"0x38":{chainId:56,chainName:"Smart Chain",currencyName:"BNB",currencySymbol:"BNB",rpcUrl:"https://bsc-dataseed.binance.org/",blockExplorerUrl:"https://bscscan.com/",wrapped:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c"},"0x61":{chainId:97,chainName:"Smart Chain - Testnet",currencyName:"BNB",currencySymbol:"BNB",rpcUrl:"https://data-seed-prebsc-1-s1.binance.org:8545/",blockExplorerUrl:"https://testnet.bscscan.com/"},"0x89":{chainId:137,chainName:"Polygon Mainnet",currencyName:"MATIC",currencySymbol:"MATIC",rpcUrl:"https://rpc-mainnet.maticvigil.com/",blockExplorerUrl:"https://explorer-mainnet.maticvigil.com/",wrapped:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270"},"0x13881":{chainId:80001,chainName:"Mumbai",currencyName:"MATIC",currencySymbol:"MATIC",rpcUrl:"https://rpc-mumbai.matic.today/",blockExplorerUrl:"https://mumbai.polygonscan.com/"}},S=function(e){var t;return null===(t=k[e])||void 0===t?void 0:t.blockExplorerUrl},N={account:{height:"42px",padding:"0 15px",display:"flex",justifyContent:"center",alignItems:"center",width:"fit-content",borderRadius:"12px",backgroundColor:"rgb(244, 244, 244)",cursor:"pointer"},text:{color:"#21BF96"}};var A=function(){var e=Object(o.b)(),t=e.authenticate,n=e.isAuthenticated,r=e.logout,i=j(),s=i.walletAddress,c=i.chainId,l=Object(a.useState)(!1),p=Object(u.a)(l,2),y=p[0],h=p[1];return n?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{style:N.account,onClick:function(){return h(!0)},children:[Object(b.jsx)("p",{style:Object(d.a)({marginRight:"5px"},N.text),children:x(s,6)}),Object(b.jsx)(f,{currentWallet:!0,scale:3})]}),Object(b.jsxs)(v.a,{visible:y,footer:null,onCancel:function(){return h(!1)},bodyStyle:{padding:"15px",fontSize:"17px",fontWeight:"500"},style:{fontSize:"16px",fontWeight:"500"},width:"400px",children:["Account",Object(b.jsxs)(O.a,{style:{marginTop:"10px",borderRadius:"1rem"},bodyStyle:{padding:"15px"},children:[Object(b.jsx)(T,{avatar:"left",size:6,copyable:!0,style:{fontSize:"20px"}}),Object(b.jsx)("div",{style:{marginTop:"10px",padding:"0 10px"},children:Object(b.jsxs)("a",{href:"".concat(S(c),"/address/").concat(s),target:"_blank",rel:"noreferrer",children:[Object(b.jsx)(C.a,{style:{marginRight:"5px"}}),"View on Explorer"]})})]}),Object(b.jsx)(g.a,{size:"large",type:"primary",style:{width:"100%",marginTop:"10px",borderRadius:"0.5rem",fontSize:"16px",fontWeight:"500"},onClick:function(){r(),h(!1)},children:"Disconnect Wallet"})]})]}):Object(b.jsx)("div",{style:N.account,onClick:function(){return t({signingMessage:"Hello World!"})},children:Object(b.jsx)("p",{style:N.text,children:"Authenticate"})})},E=n(1516),M=(n(1497),n(1498),n(5)),B=n(12),U=n(3),F=n.n(U),D=(n(1499),function(e){var t=e.question,n=e.answers,r=e.onVote,i=e.voted,s=(e.voteReady,Object(a.useState)(0)),o=Object(u.a)(s,2),c=o[0],l=o[1];Object(a.useEffect)((function(){var e=null===n||void 0===n?void 0:n.reduce((function(e,t){return e+parseInt(t.votes)}),0);console.log("totalVotes: ",e),l(e)}),[n]);return Object(b.jsxs)("article",{style:{padding:"10px"},children:[Object(b.jsx)("h3",{className:"header",children:t}),i?Object(b.jsx)("ul",{className:"poll-answers",children:null===n||void 0===n?void 0:n.map((function(e){return Object(b.jsx)("li",{style:{width:"100%",margin:"5px 0"},children:Object(b.jsxs)("div",{className:"answer-status",children:[i==(null===e||void 0===e?void 0:e.option)&&Object(b.jsx)("div",{className:"answer-fill"}),Object(b.jsxs)("div",{className:"answer-labels",children:[Object(b.jsxs)("span",{style:{color:"rgb(48, 48, 48)"},children:[100*(null===e||void 0===e?void 0:e.votes)/c,"%"]}),Object(b.jsx)("span",{className:i==(null===e||void 0===e?void 0:e.option)?"answer vote":"answer",children:null===e||void 0===e?void 0:e.option})]})]})},null===e||void 0===e?void 0:e.option)}))}):Object(b.jsx)("ul",{className:"poll-answers",children:null===n||void 0===n?void 0:n.map((function(e){return Object(b.jsx)("li",{style:{width:"100%",margin:"5px 0"},children:Object(b.jsx)("button",{className:"option",onClick:function(){return r(null===e||void 0===e?void 0:e.option)},children:null===e||void 0===e?void 0:e.option})},null===e||void 0===e?void 0:e.option)}))}),Object(b.jsxs)("p",{className:"votes",children:[c," votes"]})]})}),W="",z="Youtube is the best place to learn ?",R=[{option:"Yes",votes:0},{option:"No",votes:0},{option:"don't know",votes:0}],P="",_={},H="",L=[],V={};var J=function(e){e.more;var t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),c=Object(u.a)(s,2),l=c[0],p=c[1],y=Object(o.b)(),j=y.isInitialized,x=y.account,h=y.isAuthenticated,m=y.Moralis,f=Object(o.d)({chain:"mumbai"}),v=(f.getBalance,f.data),O=(f.nativeToken,f.isLoading,Object(o.e)("Polls")),g=(O.isSaving,O.error,O.save,O.object,Object(a.useState)([].concat(R))),w=Object(u.a)(g,2),T=w[0],I=w[1],C=Object(a.useRef)(!0),k=function(){var e=Object(B.a)(F.a.mark((function e(){var t,n,a,r,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.Object.extend("Polls"),(n=new m.Query(t)).equalTo("pollID",1),e.next=5,n.first();case 5:return a=e.sent,r=null===a||void 0===a?void 0:a.attributes.options,console.log("poll: ",r||R),I(r||R),i=null===a||void 0===a?void 0:a.attributes.voted[x],console.log("_voted: ",a,i,x),p(i),V=null===a||void 0===a?void 0:a.attributes.voted,e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(B.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=4;break}return e.abrupt("return",!1);case 4:return(t=!!(v.balance&&v.balance>0))&&(P="",_=x,H=z,L=R,k(),i(t),W=x),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){C.current?C.current=!1:j&&v.balance>0?W!==x&&S():i(!1)}),[x,v,j]);var N=function(){var e=Object(B.a)(F.a.mark((function e(t){var n,a,r,i,s;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P=t,n=T.map((function(e){return e.option===P&&(e.votes=e.votes+1),e})),console.log("Async",n),a={id:1,title:H,options:L=n,voted:Object(d.a)(Object(d.a)({},V),{},Object(M.a)({},_,t))},r=m.Object.extend("Polls"),i=new m.Query(r),e.next=9,i.first();case 9:(s=e.sent)||(s=new m.Object("Polls")),s.set("pollID",a.id),s.set("title",a.title),s.set("options",a.options),s.set("voted",a.voted),s.save(),I(L),p(t);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(D,{question:z,answers:T,onVote:N,voted:l})}):Object(b.jsx)(b.Fragment,{children:"NO ACCESS"})},q=function(){var e=Object(o.c)("Categories"),t=JSON.parse(JSON.stringify(e.data,["categoryId","category"]));return console.log(t),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{style:{display:"flex",fontFamily:"Roboto, sans-serif",color:"#041836",padding:"10px 30px",maxWidth:"1200px",width:"100%",gap:"20px"},children:Object(b.jsx)(J,{})})})},Q=E.a.Header,X={content:{display:"flex",justifyContent:"center",fontFamily:"Roboto, sans-serif",color:"#041836",marginTop:"130px",padding:"10px"},header:{position:"fixed",zIndex:1,width:"100%",background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center",fontFamily:"Roboto, sans-serif",borderBottom:"2px solid rgba(0, 0, 0, 0.06)",padding:"0 10px",boxShadow:"0 1px 10px rgb(151 164 175 / 10%)"},headerRight:{display:"flex",gap:"20px",alignItems:"center",fontSize:"15px",fontWeight:"600"}},Y=function(){return Object(b.jsx)("h4",{children:"Decentradit"})},G=function(e){e.isServerInfo;var t=Object(o.b)(),n=t.isWeb3Enabled,r=t.enableWeb3,i=t.isAuthenticated,s=t.isWeb3EnableLoading;return Object(a.useEffect)((function(){!i||n||s||r()}),[i,n]),Object(b.jsx)(E.a,{style:{height:"100vh",overflow:"auto"},children:Object(b.jsxs)(c.a,{children:[Object(b.jsxs)(Q,{style:X.header,children:[Object(b.jsx)(Y,{}),Object(b.jsx)("div",{style:X.headerRight,children:Object(b.jsx)(A,{})})]}),Object(b.jsxs)("div",{style:X.content,children:[Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.b,{path:"/main",children:Object(b.jsx)(q,{})}),Object(b.jsx)(l.b,{path:"/nonauthenticated",children:Object(b.jsx)("h3",{children:'Please login using the "Authenticate" button'})})]}),i?Object(b.jsx)(l.a,{to:"/main"}):Object(b.jsx)(l.a,{to:"/nonauthenticated"})]})]})})},K=(n(1505),"PT8oQhiotY8RXWITcuclel8uCRnfyohWbpb1OJiI"),Z="https://cjjrhnxjuddw.usemoralis.com:2053/server",$=function(){return Object(b.jsx)(o.a,{appId:K,serverUrl:Z,children:Object(b.jsx)(y,{children:Object(b.jsx)(G,{isServerInfo:!0})})})};s.a.render(Object(b.jsx)($,{}),document.getElementById("root"))},964:function(e,t){},968:function(e,t){},970:function(e,t){},974:function(e,t){},999:function(e,t){}},[[1506,1,2]]]);
//# sourceMappingURL=main.1ce4d516.chunk.js.map